# Admin Panel - Architecture Diagram

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Friday Night Film Room                       â”‚
â”‚                         Admin Panel                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        AUTHENTICATION                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  /admin/login                                                    â”‚
â”‚    â†“                                                             â”‚
â”‚  POST /api/auth/login                                           â”‚
â”‚    â†“                                                             â”‚
â”‚  JWT Token (role: ADMIN)                                        â”‚
â”‚    â†“                                                             â”‚
â”‚  Cookie: auth_token                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          LAYOUT                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  app/admin/layout.tsx                                           â”‚
â”‚    â”œâ”€â”€ Check JWT from cookie                                    â”‚
â”‚    â”œâ”€â”€ Verify role === ADMIN                                    â”‚
â”‚    â”œâ”€â”€ Redirect if unauthorized                                 â”‚
â”‚    â””â”€â”€ Render layout:                                           â”‚
â”‚        â”œâ”€â”€ AdminSidebar (left)                                  â”‚
â”‚        â”œâ”€â”€ AdminHeader (top)                                    â”‚
â”‚        â””â”€â”€ Page content (main)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Navigation Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ADMIN SIDEBAR                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Dashboard          â†’ /admin/dashboard                       â”‚
â”‚  ğŸ‘¥ Users              â†’ /admin/users                           â”‚
â”‚  âœ“  Player Claims      â†’ /admin/players/claims                 â”‚
â”‚  ğŸ† Players            â†’ /admin/players                         â”‚
â”‚  ğŸ“‹ Rosters            â†’ /admin/rosters                         â”‚
â”‚  ğŸ“… Games              â†’ /admin/games                           â”‚
â”‚  ğŸ“ˆ Stats              â†’ /admin/stats                           â”‚
â”‚  ğŸ« Schools            â†’ /admin/schools                         â”‚
â”‚  ğŸ“ College Offers     â†’ /admin/offers                          â”‚
â”‚  ğŸ“ Audit Log          â†’ /admin/audit                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          FRONTEND                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Admin Pages (Server Components)                                â”‚
â”‚    â†“                                                             â”‚
â”‚  Fetch data on server side                                      â”‚
â”‚    â†“                                                             â”‚
â”‚  Render with data                                               â”‚
â”‚                                                                  â”‚
â”‚  Interactive Components (Client Components)                     â”‚
â”‚    â†“                                                             â”‚
â”‚  User actions (search, filter, submit)                          â”‚
â”‚    â†“                                                             â”‚
â”‚  Call API routes                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         API ROUTES                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  /api/admin/*                                                   â”‚
â”‚    â†“                                                             â”‚
â”‚  Check Authorization header                                     â”‚
â”‚    â†“                                                             â”‚
â”‚  Verify JWT token                                               â”‚
â”‚    â†“                                                             â”‚
â”‚  Check role === ADMIN                                           â”‚
â”‚    â†“                                                             â”‚
â”‚  Process request                                                â”‚
â”‚    â†“                                                             â”‚
â”‚  Log to audit trail                                             â”‚
â”‚    â†“                                                             â”‚
â”‚  Return response                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DATABASE                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Prisma ORM                                                     â”‚
â”‚    â†“                                                             â”‚
â”‚  PostgreSQL (Supabase)                                          â”‚
â”‚    â†“                                                             â”‚
â”‚  11 Admin-Related Models:                                       â”‚
â”‚    â€¢ User                                                       â”‚
â”‚    â€¢ Player                                                     â”‚
â”‚    â€¢ PlayerStats                                                â”‚
â”‚    â€¢ PlayerClaimRequest                                         â”‚
â”‚    â€¢ CollegeOffer                                               â”‚
â”‚    â€¢ Roster                                                     â”‚
â”‚    â€¢ Game                                                       â”‚
â”‚    â€¢ School                                                     â”‚
â”‚    â€¢ SchoolAlias                                                â”‚
â”‚    â€¢ TeamRanking                                                â”‚
â”‚    â€¢ AdminAuditLog                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Component Hierarchy

```
app/admin/layout.tsx
â”œâ”€â”€ AdminSidebar
â”‚   â””â”€â”€ Navigation Links
â””â”€â”€ AdminHeader
    â””â”€â”€ User Info + Sign Out

app/admin/dashboard/page.tsx
â”œâ”€â”€ Stats Cards
â”œâ”€â”€ Quick Actions
â””â”€â”€ Recent Activity

app/admin/users/page.tsx
â”œâ”€â”€ FilterBar
â”‚   â”œâ”€â”€ Search Input
â”‚   â””â”€â”€ Filter Dropdowns
â””â”€â”€ DataTable
    â””â”€â”€ User Rows

app/admin/users/create/page.tsx
â””â”€â”€ UserForm
    â”œâ”€â”€ Form Fields
    â””â”€â”€ Submit Button

app/admin/players/page.tsx
â”œâ”€â”€ FilterBar
â””â”€â”€ DataTable

app/admin/players/[id]/page.tsx
â”œâ”€â”€ Tabs (Info, Stats, Offers)
â”œâ”€â”€ PlayerForm
â”œâ”€â”€ DataTable (Stats)
â””â”€â”€ DataTable (Offers)

app/admin/players/claims/page.tsx
â”œâ”€â”€ Claim Cards
â””â”€â”€ ConfirmDialog

[Other pages follow similar patterns...]
```

## Shared Component Usage

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      SHARED COMPONENTS                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  DataTable                                                      â”‚
â”‚    â€¢ Sortable columns                                           â”‚
â”‚    â€¢ Custom rendering                                           â”‚
â”‚    â€¢ Row click handling                                         â”‚
â”‚    â€¢ Used in: Users, Players, Rosters, Games, Schools, Audit   â”‚
â”‚                                                                  â”‚
â”‚  FilterBar                                                      â”‚
â”‚    â€¢ Search input                                               â”‚
â”‚    â€¢ Multiple filters                                           â”‚
â”‚    â€¢ Responsive layout                                          â”‚
â”‚    â€¢ Used in: All list pages                                    â”‚
â”‚                                                                  â”‚
â”‚  ConfirmDialog                                                  â”‚
â”‚    â€¢ Reusable confirmation                                      â”‚
â”‚    â€¢ Default/destructive variants                               â”‚
â”‚    â€¢ Async support                                              â”‚
â”‚    â€¢ Used in: Delete, Approve, Reject actions                   â”‚
â”‚                                                                  â”‚
â”‚  UserForm                                                       â”‚
â”‚    â€¢ Create/edit users                                          â”‚
â”‚    â€¢ Role-based fields                                          â”‚
â”‚    â€¢ Validation                                                 â”‚
â”‚    â€¢ Used in: Create user, Edit user                            â”‚
â”‚                                                                  â”‚
â”‚  PlayerForm                                                     â”‚
â”‚    â€¢ Edit player profiles                                       â”‚
â”‚    â€¢ Physical stats                                             â”‚
â”‚    â€¢ Social links                                               â”‚
â”‚    â€¢ Used in: Player detail page                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      SECURITY LAYERS                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Layer 1: Route Protection                                      â”‚
â”‚    â€¢ app/admin/layout.tsx checks auth                           â”‚
â”‚    â€¢ Redirects unauthorized users                               â”‚
â”‚                                                                  â”‚
â”‚  Layer 2: Role Verification                                     â”‚
â”‚    â€¢ getUserFromToken() validates JWT                           â”‚
â”‚    â€¢ Checks role === ADMIN                                      â”‚
â”‚    â€¢ Returns 401/403 if unauthorized                            â”‚
â”‚                                                                  â”‚
â”‚  Layer 3: API Authorization                                     â”‚
â”‚    â€¢ All /api/admin/* routes check auth                         â”‚
â”‚    â€¢ Extract token from Authorization header                    â”‚
â”‚    â€¢ Verify role before processing                              â”‚
â”‚                                                                  â”‚
â”‚  Layer 4: Audit Logging                                         â”‚
â”‚    â€¢ Log all admin actions to AdminAuditLog                     â”‚
â”‚    â€¢ Track: admin, action, target, changes                      â”‚
â”‚    â€¢ Immutable audit trail                                      â”‚
â”‚                                                                  â”‚
â”‚  Layer 5: Input Validation                                      â”‚
â”‚    â€¢ Frontend form validation                                   â”‚
â”‚    â€¢ Backend API validation                                     â”‚
â”‚    â€¢ Prisma schema constraints                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Design System Integration

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       DESIGN TOKENS                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Colors                                                         â”‚
â”‚    â€¢ Sidebar:     #1a1d29 (dark navy)                          â”‚
â”‚    â€¢ Background:  #1D1A10 (dark charcoal)                      â”‚
â”‚    â€¢ Cards:       #242118 (warm charcoal)                      â”‚
â”‚    â€¢ Accent:      #E6BC6A (golden spotlight)                   â”‚
â”‚    â€¢ Text:        #F7EED9 (warm cream)                         â”‚
â”‚                                                                  â”‚
â”‚  Typography                                                     â”‚
â”‚    â€¢ Display:     Space Grotesk 800                            â”‚
â”‚    â€¢ Body:        Inter 400                                     â”‚
â”‚    â€¢ Data:        JetBrains Mono (tabular-nums)                â”‚
â”‚                                                                  â”‚
â”‚  Spacing                                                        â”‚
â”‚    â€¢ Grid:        4px base                                      â”‚
â”‚    â€¢ Scale:       4, 8, 12, 16, 24, 32, 48, 64px               â”‚
â”‚    â€¢ NO sm:       Mobile-first, only md: and lg:               â”‚
â”‚                                                                  â”‚
â”‚  Shadows                                                        â”‚
â”‚    â€¢ Cards:       shadow-card                                   â”‚
â”‚    â€¢ Hover:       shadow-card-hover                             â”‚
â”‚    â€¢ Spotlight:   Warm golden glow in dark mode                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## State Management Pattern

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CLIENT COMPONENT STATE                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  "use client"                                                   â”‚
â”‚                                                                  â”‚
â”‚  useState                                                       â”‚
â”‚    â€¢ searchQuery                                                â”‚
â”‚    â€¢ filters (sport, status, etc.)                             â”‚
â”‚    â€¢ loading                                                    â”‚
â”‚    â€¢ error                                                      â”‚
â”‚    â€¢ selectedItem                                               â”‚
â”‚    â€¢ dialogOpen                                                 â”‚
â”‚                                                                  â”‚
â”‚  Derived State                                                  â”‚
â”‚    â€¢ filteredData = data.filter(...)                           â”‚
â”‚                                                                  â”‚
â”‚  Event Handlers                                                 â”‚
â”‚    â€¢ handleSearch(query)                                        â”‚
â”‚    â€¢ handleFilter(value)                                        â”‚
â”‚    â€¢ handleSubmit(data)                                         â”‚
â”‚    â€¢ handleDelete(id)                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## API Integration Pattern

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     API CALL PATTERN                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  1. Get auth token from cookie                                  â”‚
â”‚     const token = getCookie('auth_token');                      â”‚
â”‚                                                                  â”‚
â”‚  2. Make authenticated request                                  â”‚
â”‚     const response = await fetch('/api/admin/users', {         â”‚
â”‚       method: 'GET',                                            â”‚
â”‚       headers: {                                                â”‚
â”‚         'Authorization': `Bearer ${token}`,                     â”‚
â”‚         'Content-Type': 'application/json',                     â”‚
â”‚       },                                                        â”‚
â”‚     });                                                         â”‚
â”‚                                                                  â”‚
â”‚  3. Handle response                                             â”‚
â”‚     if (!response.ok) {                                         â”‚
â”‚       throw new Error(await response.text());                   â”‚
â”‚     }                                                           â”‚
â”‚                                                                  â”‚
â”‚  4. Parse and return data                                       â”‚
â”‚     const data = await response.json();                         â”‚
â”‚     return data;                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Audit Trail System

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      AUDIT LOGGING                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Every admin action logs:                                       â”‚
â”‚                                                                  â”‚
â”‚  AdminAuditLog {                                                â”‚
â”‚    id:          UUID                                            â”‚
â”‚    adminUserId: UUID                                            â”‚
â”‚    action:      "USER_CREATED" | "PLAYER_UPDATED" | ...        â”‚
â”‚    targetType:  "USER" | "PLAYER" | "GAME" | ...               â”‚
â”‚    targetId:    UUID of affected entity                         â”‚
â”‚    changes:     JSON (before/after values)                      â”‚
â”‚    notes:       Optional description                            â”‚
â”‚    createdAt:   Timestamp                                       â”‚
â”‚  }                                                              â”‚
â”‚                                                                  â”‚
â”‚  Example actions:                                               â”‚
â”‚    â€¢ USER_CREATED, USER_UPDATED, USER_DELETED                   â”‚
â”‚    â€¢ PLAYER_CLAIM_APPROVED, PLAYER_CLAIM_REJECTED               â”‚
â”‚    â€¢ OFFER_VERIFIED                                             â”‚
â”‚    â€¢ ROSTER_CREATED, ROSTER_UPDATED                             â”‚
â”‚    â€¢ GAME_CREATED, GAME_UPDATED                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Performance Optimization

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   OPTIMIZATION STRATEGY                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Server Components (Default)                                    â”‚
â”‚    â€¢ Fetch data on server                                       â”‚
â”‚    â€¢ No JS sent to client                                       â”‚
â”‚    â€¢ Fast initial load                                          â”‚
â”‚                                                                  â”‚
â”‚  Client Components (When Needed)                                â”‚
â”‚    â€¢ Interactive forms                                          â”‚
â”‚    â€¢ Search/filter                                              â”‚
â”‚    â€¢ Real-time updates                                          â”‚
â”‚                                                                  â”‚
â”‚  Database Optimization                                          â”‚
â”‚    â€¢ Indexed columns (role, status, email)                      â”‚
â”‚    â€¢ Efficient queries (select only needed)                     â”‚
â”‚    â€¢ Pagination (limit/offset)                                  â”‚
â”‚                                                                  â”‚
â”‚  Caching Strategy                                               â”‚
â”‚    â€¢ Server-side cache for stats                                â”‚
â”‚    â€¢ Revalidate on mutations                                    â”‚
â”‚                                                                  â”‚
â”‚  Code Splitting                                                 â”‚
â”‚    â€¢ Lazy load modals                                           â”‚
â”‚    â€¢ Route-based splitting (automatic)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DEPLOYMENT                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Vercel (Frontend + API Routes)                                 â”‚
â”‚    â”œâ”€â”€ Next.js App                                              â”‚
â”‚    â”œâ”€â”€ /admin/* routes                                          â”‚
â”‚    â””â”€â”€ /api/admin/* endpoints                                   â”‚
â”‚                                                                  â”‚
â”‚  Supabase (Database)                                            â”‚
â”‚    â”œâ”€â”€ PostgreSQL                                               â”‚
â”‚    â”œâ”€â”€ Prisma ORM                                               â”‚
â”‚    â””â”€â”€ Connection pooling                                       â”‚
â”‚                                                                  â”‚
â”‚  Sanity (CMS)                                                   â”‚
â”‚    â”œâ”€â”€ Editorial content                                        â”‚
â”‚    â””â”€â”€ Player profiles (optional link)                          â”‚
â”‚                                                                  â”‚
â”‚  Environment Variables                                          â”‚
â”‚    â€¢ DATABASE_URL                                               â”‚
â”‚    â€¢ JWT_SECRET                                                 â”‚
â”‚    â€¢ SANITY_* (project ID, dataset, token)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Future Enhancements

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ROADMAP (Phase 4+)                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Performance                                                    â”‚
â”‚    â€¢ Add pagination                                             â”‚
â”‚    â€¢ Implement virtual scrolling                                â”‚
â”‚    â€¢ Add loading skeletons                                      â”‚
â”‚    â€¢ Optimize database queries                                  â”‚
â”‚                                                                  â”‚
â”‚  Features                                                       â”‚
â”‚    â€¢ Bulk operations                                            â”‚
â”‚    â€¢ Advanced search (fuzzy)                                    â”‚
â”‚    â€¢ Dashboard charts                                           â”‚
â”‚    â€¢ Export to CSV/Excel                                        â”‚
â”‚    â€¢ Email notifications                                        â”‚
â”‚    â€¢ Real-time updates (WebSocket)                              â”‚
â”‚                                                                  â”‚
â”‚  UX Improvements                                                â”‚
â”‚    â€¢ Toast notifications                                        â”‚
â”‚    â€¢ Keyboard shortcuts                                         â”‚
â”‚    â€¢ Undo/redo actions                                          â”‚
â”‚    â€¢ Drag-and-drop                                              â”‚
â”‚    â€¢ Dark/light theme toggle                                    â”‚
â”‚                                                                  â”‚
â”‚  Security                                                       â”‚
â”‚    â€¢ Rate limiting                                              â”‚
â”‚    â€¢ Two-factor authentication                                  â”‚
â”‚    â€¢ IP whitelisting                                            â”‚
â”‚    â€¢ Session management                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Architecture Version**: 1.0
**Last Updated**: February 2026
**Status**: Phase 2 Complete (Frontend UI)
**Next**: Phase 3 (Backend APIs)
